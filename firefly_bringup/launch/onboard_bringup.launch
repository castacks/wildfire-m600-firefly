<launch>
  
  <arg name="replay_mode" default="false"/>
  <arg name="open_flir" default="false"/>


  <node pkg="firefly_mapping" type="onboard_mapping" name="onboard_mapping" output="screen"/>
  <node pkg="firefly_telemetry" type="onboard_telemetry.py" name="onboard_telemetry" output="screen"/>
  <node pkg="firefly_perception" type="firefly_perception" name="firefly_perception_continuous" output="screen">
    <param name="threshold" value="50"/>
    <param name="continuous" value="true"/>
  </node>  

  <include file="$(find dji_sdk)/launch/sdk.launch" unless="$(arg replay_mode)"/>
  <include file="$(find flir_ros_sync)/launch/example/flir_ros.launch" if="$(arg open_flir)"/>
  <include file="$(find seek_driver)/launch/seek_driver.launch" unless="$(arg replay_mode)"/>

  <node pkg="tf" type="static_transform_publisher" name="base_to_thermal_camera_link" args="0.0543145 0.041098 -0.27658746 -1.5707963 0 3.14159 base_link thermal/camera_link 100"/>

  <node pkg="firefly_bringup" type="gps_to_local_enu.py" name="gps_to_local_enu"/>
</launch>
